{"is_source_file": true, "format": "JavaScript", "description": "This file is middleware for an Express-based Node.js backend, providing authentication (requireAuth, optionalAuth) and request validation (validateBody) functions.", "external_files": ["jsonwebtoken"], "external_methods": ["jwt.verify"], "published": ["requireAuth", "optionalAuth", "validateBody"], "classes": [], "methods": [{"name": "requireAuth(req, res, next)", "description": "Middleware that verifies a JWT token in the Authorization header. Attaches decoded payload to req.user if valid, otherwise responds with 401 Unauthorized.", "scope": "", "scopeKind": ""}, {"name": "optionalAuth(req, _res, next)", "description": "Middleware that optionally verifies a JWT token. If present and valid, attaches payload to req.user; otherwise, continues without error.", "scope": "", "scopeKind": ""}, {"name": "validateBody(requiredFields = [])", "description": "Middleware factory that checks for presence of required fields in the request body; responds with 400 error if any are missing.", "scope": "", "scopeKind": ""}], "calls": ["jwt.verify"], "search-terms": ["middleware", "auth", "JWT", "jsonwebtoken", "request validation", "requireAuth", "optionalAuth"], "state": 2, "file_id": 10, "knowledge_revision": 29, "git_revision": "cdb2559d474361960b538a53a50da1a80d3f2a0e", "revision_history": [{"25": "cdb2559d474361960b538a53a50da1a80d3f2a0e"}, {"29": "cdb2559d474361960b538a53a50da1a80d3f2a0e"}], "ctags": [{"_type": "tag", "name": "JWT_SECRET", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/index.js", "pattern": "/^const JWT_SECRET = process.env.JWT_SECRET || 'dev_secret_change_me';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/index.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "optionalAuth", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/index.js", "pattern": "/^function optionalAuth(req, _res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, _res, next)"}, {"_type": "tag", "name": "requireAuth", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/index.js", "pattern": "/^  requireAuth,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "requireAuth", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/index.js", "pattern": "/^function requireAuth(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "validateBody", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/index.js", "pattern": "/^function validateBody(requiredFields = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(requiredFields = [])"}], "hash": "e747ed31d09193493e24f19f46907413", "format-version": 4, "code-base-name": "ecommerce_backend", "filename": "ecommerce_backend/src/middleware/index.js", "fields": [{"name": "requireAuth,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}