{"is_source_file": true, "format": "JavaScript", "description": "This file implements mock authentication middleware functions for an Express.js application, including optional authentication and required authentication handlers. It also references an external mock data store for session management.", "external_files": ["../data/mockStore"], "external_methods": ["store.sessions.has", "store.sessions.get"], "published": ["authOptional", "requireAuth"], "classes": [], "methods": [{"name": "authOptional(req, res, next)", "description": "Middleware that reads Bearer token from Authorization header and attaches req.userId if valid, allowing optional authentication.", "scope": "", "scopeKind": ""}, {"name": "requireAuth(req, res, next)", "description": "Middleware that enforces authentication by verifying the Bearer token; responds with 401 Unauthorized if token is invalid or absent.", "scope": "", "scopeKind": ""}], "calls": ["req.get", "next", "res.status", "res.json"], "search-terms": ["authMiddleware", "requireAuth", "Bearer token", "mockStore", "session verification", "authorization header"], "state": 2, "file_id": 16, "knowledge_revision": 34, "git_revision": "", "ctags": [{"_type": "tag", "name": "authOptional", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/auth.js", "pattern": "/^  authOptional,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "authOptional", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/auth.js", "pattern": "/^function authOptional(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "requireAuth", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/auth.js", "pattern": "/^function requireAuth(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/pastel-outfit-marketplace-131687-131697/ecommerce_backend/src/middleware/auth.js", "pattern": "/^const store = require('..\\/data\\/mockStore');$/", "language": "JavaScript", "kind": "constant"}], "hash": "4bd1dd78d37360de1e320671161ad40f", "format-version": 4, "code-base-name": "ecommerce_backend", "filename": "ecommerce_backend/src/middleware/auth.js", "fields": [{"name": "authOptional,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"34": ""}]}